<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- IBM Plex Mono -->
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&display=swap" rel="stylesheet">
  <!-- IBM Plex Sans -->
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400;1,600;1,700&display=swap" rel="stylesheet">

  <!-- CSS (uses absolute weblinks to work around relative path issues) -->
  <link rel="stylesheet" type="text/css" href="https://www.kmaasrud.com/main.css">

  <title>code extraction</title>
</head>

<body>
  <div class="grid">
    <nav>
      <div>
        <h2><a href="index.html">IVy notes</a></h2>
        <p>A personal expansion and reorganization of the IVy project's documentation.</p>
        <br/>
        <br/>
        <li><a href="http://microsoft.github.io/ivy/">IVy website</a></li>
        <li><a href="https://github.com/kenmcmil/ivy">IVy github</a></li>
      </div>
      <div>
        <h3>Navigation</h3>
        <ul>
          <li><a href="lexical-structure.html">Lexical structure</a></li>
          <li><a href="keywords.html">Keywords</a></li>
          <li><a href="declaration.html">Declarations</a></li>
          <li><a href="definition.html">Definitions</a></li>
          <li><a href="expression.html">Expressions</a></li>
          <li><a href="action.html">Actions</a></li>
          <li><a href="statement.html">Statements</a></li>
          <li><a href="property.html">Properties</a> and <a href="theorem.html">Theorems</a></li>
          <li><a href="isolate.html">Isolates</a> and <a href="invariant.html">Invariants</a></li>
          <li><a href="logical-fragment.html">Logical fragment</a></li>
          <li><a href="verification-condition.html">Verification conditions</a></li>
          <li><a href="recovering-decidability.html">Recovering decidability</a></li>
          <li><a href="proof.html">Proof</a> and <a href="tactic.html">Tactics</a></li>
          <li><a href="further-info.html">Further info</a></li>
        </ul>
      </div>
      <div class="footer">
        <p>Notes taken with <a href="http://obsidian.md">obsidian</a></p>
        <p>Rendered with <a href="http://github.com/kmaasrud/obsidian-html">obsidian-html</a></p>
      </div>
    </nav>
    <article>
      <header>code extraction</header>
      <div id="content"><p><a href="keywords.html">Keyword</a>: <code>extract</code></p>

<p><strong>code extraction</strong> refers to translating IVy source to some other language. The standard code extraction <a href="command.html">command</a> is <a href="ivy-to-cpp-command.html">ivy_to_cpp</a></p>

<p>The <code>ivy_to_cpp</code> command can extract any specified <a href="isolate.html">isolate</a> but it is common to declare an <code>extract</code> that bundles together a set of isolates and, optionally, introduces one or more declaration parameters. The extracted code is then considered as an instance at a single (arbitrarily chosen) element of the parameter type.</p>

<h2 id="example">Example:</h2>

<p>For example, if we have some type <code>node</code> and some declarations for a module <code>leader(n:node)</code> and parameter <code>pid(n:node)</code>. Then we can specify an extract named <code>code</code> at a single arbitrary representative <code>node</code> value like so:</p>

<pre><code>extract code(n:node) = leader(n), pid(n), node, id
</code></pre>

<p>The extract is parameterized on a node <code>n</code>. It consists of the <code>leader</code> isolate for parameter <code>n</code>, the value of the <code>pid</code> map for <code>n</code>, as well as the node and id isolates (which are not parameterized, and which therefore cannot have state). </p>

<p>When we extract code, the <a href="visibility-qualifiers.html">specification</a> sections of the <a href="isolate.html">isolates</a> are erased.  The specification <a href="state-variable.html">state variables</a> and code (including assertions) are not present in the extract. IVy verifies that this erasure is sound, in the sense that the erased code has no effects that are visible to the remaining code (including non termination). This means that the observable behavior of the program is not affected by erasure of the specifications.</p>

<div class="backlinks">

<h2 id="backlinks">Backlinks</h2>

<ul>
<li><a href="attribute.html">attribute</a></li>
<li><a href="command.html">command</a></li>
<li><a href="ghost.html">ghost</a></li>
<li><a href="ivy-to-cpp-command.html">ivy_to_cpp command</a></li>
<li><a href="keywords.html">keywords</a></li>
</ul>

</div>
</div>
    </article>
  </div>
</body>

</html>
